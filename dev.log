
> caresphere-api-next@0.1.0 dev
> next dev

⚠ Port 3000 is in use by process 48347, using available port 3001 instead.
⚠ Warning: Next.js inferred your workspace root, but it may not be correct.
 We detected multiple lockfiles and selected the directory of /Volumes/1tb_ssd/EKD_Space/Documents/coding_env/swift/package-lock.json as the root directory.
 To silence this warning, set `turbopack.root` in your Next.js config, or consider removing one of the lockfiles if it's not needed.
   See https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack#root-directory for more information.
 Detected additional lockfiles: 
   * /Volumes/1tb_ssd/EKD_Space/Documents/coding_env/swift/caresphere-api-next/package-lock.json

▲ Next.js 16.1.6 (Turbopack)
- Local:         http://localhost:3001
- Network:       http://192.168.1.100:3001
- Environments: .env

✓ Starting...
⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
✓ Ready in 2.5s
○ Compiling /verify-email ...
 GET /verify-email?email=info%40ekddigital.com&flow=register 200 in 6.8s (compile: 6.5s, render: 273ms)
 GET /register 200 in 1779ms (compile: 1714ms, render: 65ms)
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."password_hash", "public"."users"."first_name", "public"."users"."last_name", "public"."users"."display_name", "public"."users"."avatar_url", "public"."users"."phone", "public"."users"."role"::text, "public"."users"."status"::text, "public"."users"."email_verified", "public"."users"."last_login_at", "public"."users"."reset_token_hash", "public"."users"."reset_token_expires", "public"."users"."verification_token_hash", "public"."users"."organization_id", "public"."users"."created_at", "public"."users"."updated_at" FROM "public"."users" WHERE ("public"."users"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query DELETE FROM "public"."email_verifications" WHERE "public"."email_verifications"."email" = $1
prisma:query INSERT INTO "public"."email_verifications" ("id","email","code_hash","expires_at","verified","created_at") VALUES ($1,$2,$3,$4,$5,$6) RETURNING "public"."email_verifications"."id", "public"."email_verifications"."email", "public"."email_verifications"."code_hash", "public"."email_verifications"."expires_at", "public"."email_verifications"."verified", "public"."email_verifications"."created_at"
 POST /api/auth/verify 200 in 4.5s (compile: 626ms, proxy.ts: 93ms, render: 3.8s)
 GET /verify-email?email=info%40ekddigital.com&flow=register 200 in 20ms (compile: 7ms, render: 12ms)
prisma:query SELECT "public"."email_verifications"."id", "public"."email_verifications"."email", "public"."email_verifications"."code_hash", "public"."email_verifications"."expires_at", "public"."email_verifications"."verified", "public"."email_verifications"."created_at" FROM "public"."email_verifications" WHERE ("public"."email_verifications"."email" = $1 AND "public"."email_verifications"."verified" = $2) ORDER BY "public"."email_verifications"."created_at" DESC LIMIT $3 OFFSET $4
prisma:query UPDATE "public"."email_verifications" SET "verified" = $1 WHERE ("public"."email_verifications"."id" = $2 AND 1=1) RETURNING "public"."email_verifications"."id", "public"."email_verifications"."email", "public"."email_verifications"."code_hash", "public"."email_verifications"."expires_at", "public"."email_verifications"."verified", "public"."email_verifications"."created_at"
prisma:query INSERT INTO "public"."users" ("id","email","password_hash","first_name","last_name","role","status","email_verified","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,CAST($6::text AS "public"."UserRole"),CAST($7::text AS "public"."UserStatus"),$8,$9,$10) ON CONFLICT ("email") DO UPDATE SET "password_hash" = $11, "first_name" = $12, "last_name" = $13, "email_verified" = $14, "status" = CAST($15::text AS "public"."UserStatus"), "role" = CAST($16::text AS "public"."UserRole"), "updated_at" = $17 WHERE ("public"."users"."email" = $18 AND 1=1) RETURNING "public"."users"."id", "public"."users"."email", "public"."users"."password_hash", "public"."users"."first_name", "public"."users"."last_name", "public"."users"."display_name", "public"."users"."avatar_url", "public"."users"."phone", "public"."users"."role"::text, "public"."users"."status"::text, "public"."users"."email_verified", "public"."users"."last_login_at", "public"."users"."reset_token_hash", "public"."users"."reset_token_expires", "public"."users"."verification_token_hash", "public"."users"."organization_id", "public"."users"."created_at", "public"."users"."updated_at"
prisma:query DELETE FROM "public"."email_verifications" WHERE "public"."email_verifications"."email" = $1
prisma:query SELECT "public"."organizations"."id", "public"."organizations"."name", "public"."organizations"."slug", "public"."organizations"."organization_code", "public"."organizations"."organization_type"::text, "public"."organizations"."domain", "public"."organizations"."description", "public"."organizations"."logo_url", "public"."organizations"."website", "public"."organizations"."phone", "public"."organizations"."address", "public"."organizations"."city", "public"."organizations"."state", "public"."organizations"."country", "public"."organizations"."timezone", "public"."organizations"."bible_enabled", "public"."organizations"."settings", "public"."organizations"."is_active", "public"."organizations"."created_at", "public"."organizations"."updated_at" FROM "public"."organizations" WHERE ("public"."organizations"."organization_code" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query INSERT INTO "public"."organizations" ("id","name","slug","organization_code","organization_type","timezone","bible_enabled","settings","is_active","created_at","updated_at") VALUES ($1,$2,$3,$4,CAST($5::text AS "public"."OrganizationType"),$6,$7,$8,$9,$10,$11) RETURNING "public"."organizations"."id", "public"."organizations"."name", "public"."organizations"."slug", "public"."organizations"."organization_code", "public"."organizations"."organization_type"::text, "public"."organizations"."domain", "public"."organizations"."description", "public"."organizations"."logo_url", "public"."organizations"."website", "public"."organizations"."phone", "public"."organizations"."address", "public"."organizations"."city", "public"."organizations"."state", "public"."organizations"."country", "public"."organizations"."timezone", "public"."organizations"."bible_enabled", "public"."organizations"."settings", "public"."organizations"."is_active", "public"."organizations"."created_at", "public"."organizations"."updated_at"
prisma:query INSERT INTO "public"."roles" ("id","organization_id","name","display_name","description","is_system","is_active","color","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "public"."roles"."id", "public"."roles"."organization_id", "public"."roles"."name", "public"."roles"."display_name", "public"."roles"."description", "public"."roles"."is_system", "public"."roles"."is_active", "public"."roles"."color", "public"."roles"."created_at", "public"."roles"."updated_at"
prisma:query INSERT INTO "public"."organization_users" ("id","user_id","organization_id","role_id","is_owner","is_active","joined_at","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9) RETURNING "public"."organization_users"."id", "public"."organization_users"."user_id", "public"."organization_users"."organization_id", "public"."organization_users"."role_id", "public"."organization_users"."is_owner", "public"."organization_users"."is_active", "public"."organization_users"."invited_by", "public"."organization_users"."joined_at", "public"."organization_users"."created_at", "public"."organization_users"."updated_at"
prisma:query UPDATE "public"."users" SET "organization_id" = $1, "role" = CAST($2::text AS "public"."UserRole"), "updated_at" = $3 WHERE ("public"."users"."id" = $4 AND 1=1) RETURNING "public"."users"."id", "public"."users"."email", "public"."users"."password_hash", "public"."users"."first_name", "public"."users"."last_name", "public"."users"."display_name", "public"."users"."avatar_url", "public"."users"."phone", "public"."users"."role"::text, "public"."users"."status"::text, "public"."users"."email_verified", "public"."users"."last_login_at", "public"."users"."reset_token_hash", "public"."users"."reset_token_expires", "public"."users"."verification_token_hash", "public"."users"."organization_id", "public"."users"."created_at", "public"."users"."updated_at"
prisma:query SELECT "public"."organizations"."id", "public"."organizations"."name", "public"."organizations"."slug", "public"."organizations"."organization_code", "public"."organizations"."organization_type"::text, "public"."organizations"."domain", "public"."organizations"."description", "public"."organizations"."logo_url", "public"."organizations"."website", "public"."organizations"."phone", "public"."organizations"."address", "public"."organizations"."city", "public"."organizations"."state", "public"."organizations"."country", "public"."organizations"."timezone", "public"."organizations"."bible_enabled", "public"."organizations"."settings", "public"."organizations"."is_active", "public"."organizations"."created_at", "public"."organizations"."updated_at" FROM "public"."organizations" WHERE ("public"."organizations"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
 POST /api/auth/register-org 201 in 5.1s (compile: 252ms, proxy.ts: 21ms, render: 4.9s)
 GET /login 200 in 472ms (compile: 453ms, render: 20ms)
